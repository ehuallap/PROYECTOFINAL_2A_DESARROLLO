<template>
  <h1 class="text-center mt-5 mb-5">Mostrando Alumnos de la base de datos</h1>
  <button @click="consumirApi">Consumir API</button>
  <div v-for="item in arrayBlog" :key="item.ID">
      {{ item.ID }} - {{ item.Name }} - {{ item.Email }}
  </div>

  <button @click="methodoPost">Crear mi cliente:D</button>

    <form>
        <div class="form-group">
            <label for="exampleInputEmail1">Name</label>
            <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        </div>
    
    </form>

</template>

<script>



// var axios = require("axios");

// const axiosInstance = axios.create({
//   headers: {
//     "Access-Control-Allow-Origin": "*"
//   }
// });

// axiosInstance
//   .get("https://api.backend.com/datos")
//   .then(response => {
//     console.log(response);
//   })
//   .catch(e => console.log(e));



export default {
    components: {

    },
    data() {
        return {
            arrayBlog: [],
            nuevo_cliente:{
                name: "hjifgsf",
                email: "dsfgsfsd",
                routines: "dfdfa",
            }
        }
    },
    methods:{
        async consumirApi(){
            try {
                const data = await fetch('http://127.0.0.1:5000/client/get_clients')
                const array = await data.json()
                console.log(array)
                this.arrayBlog = array;
                
            } catch (error) {
                console.log(error)
            }
        },
        methodoPost(){
             fetch("http://127.0.0.1:5000/client/create_client",{
                 method: 'POST',
                 body: JSON.stringify(this.nuevo_cliente)
                 })
        },
  
    },
    created(){
        this.consumirApi()
    }
}
    
</script>
